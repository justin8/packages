# Maintainer: Justin Dray <justin@dray.be>

pkgname=graphite-influxdb
pkgver=0.4
pkgrel=1
pkgdesc="An influxdb (0.8-rc5 or higher) backend for Graphite-web (source or 0.10.x) or graphite-api."
arch=('any')
depends=('python' 'python-influxdb')
makedepends=('python-setuptools')
optdepends=('graphite-web' 'graphite-api')
url="https://github.com/vimeo/graphite-influxdb"
license=('Apache')
options=(!emptydirs)
source=("https://pypi.python.org/packages/source/g/${pkgname}/${pkgname}-${pkgver}.tar.gz")
sha256sums=('d8ee54b2645b8022d0bf1ce939502bc049827bd71220822c1230ecbd8ed07b32')

build() {
  cd "$srcdir/${pkgname}-$pkgver"

  msg 'Building...'
  python setup.py build
}

package() {
  cd "$srcdir/${pkgname}-$pkgver"

  msg 'Installing...'
  python setup.py install --root="$pkgdir" --optimize=1
}
